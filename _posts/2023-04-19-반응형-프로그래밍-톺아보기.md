---
title: "반응형 프로그래밍 톺아보기"
categories: 일반개발
tags:
  - programming
---  


💡 **Notice**  
반응형 프로그래밍을 이해하기 위해 아등바등댄 필자의 생각 정리가 담긴 글입니다. 따라서, 여타 잘 정리된 블로그들과 관점이 다를 수 있습니다.  
{: .notice}

반응형 프로그래밍의 사전식 의미를 먼저 살펴보면, **데이터의 흐름과 데이터의 변경에 대한 전파에** 중점을 두어 프로그램을 동작시키는 패러다임이다.

데이터의 흐름이란 뭐고 변경에 대한 전파는 또 무엇인가? 왜 이렇게 정의부터 어려운 방식을 사용하는 것인가? 반응형 프로그래밍의 등장배경부터 차근차근 살펴보자.  

<br />  

### 등장배경

반응형 프로그래밍은 무엇 때문에 등장하게 되었을까? 크게 2가지 문제를 고민하면서 시작되었다.

1. **빠른 UI 업데이트**
UI는 사용자와 상호작용하기 때문에 빠르게 반응을 해야한다. 따라서, UI와 관련된 데이터가 변경되었을때 즉시 처리되어야 한다. 기존에는 행위에 대한 결과를 받은 후 UI 변경에 대한 로직을 직접 처리해야하는 등 코드의 복잡도가 높아졌다. 따라서, **데이터의 변경을 관찰하고 변경시 UI에 즉시 반영**되는 패러다임을 찾기 시작했다.
2. **복잡한 비동기 프로그래밍 처리**
대부분의 프로그래밍에서 비동기 프로그래밍은 필수적이다. 하지만 비동기 이벤트 발생시점을 미리 예측할 수 없다는 단점이 있다. 이러한 문제 속에서 이후 작업처리를 위해 콜백 함수를 사용하였지만, 연속적인 비동기 작업 처리 시 코드의 복잡도가 증가하였고, 의존성이 높아져 테스트하기 어려운 환경이 되었다. 이러한 문제는 **비동기 작업과 발생하는 데이터를 하나로 표현하기 위한 노력**으로 이어졌다.

위 2가지 문제는 **데이터의 변경 시점을 중심**으로 바라보는 반응형 프로그래밍의 시작점이 되었다.  

<br />  

### 데이터의 흐름을 하나의 단위로

비동기 프로그래밍에서 작업 시작 후 작업의 결과가 나오는 시점을 미리 예측할 수 없다. 예를 들어, 네트워크 요청을 한다면 네트워크 상태 혹은 송수신측의 상태에 따라 얼마나 걸릴지 알수가 없다. 따라서 콜백함수를 넘겨 응답을 받은 시점에 필요한 일들을 처리한다.

반응형 프로그래밍은 이 과정을 **하나의 데이터 흐름으로 생각**한다. **과정과 응답 발생을 떼어놓을 수 없는 하나로 생각하는 것**이다. 우리가 처리하기 까다로워했던 과정을 하나의 단위로 만듬으로써 복잡도를 줄이고 가독성을 높인 것이다. 

![과정과 데이터 생성을 하나의 단위로 보는 이미지]()  

<br />  

### 변경된 부분을 전파하자

비동기 작업의 결과로 만들어진 데이터는 어딘가에서 사용할 것이다. 기존의 비동기 프로그래밍은 이를 콜백함수를 이용해서 사용하였다. 이러한 방식은 **비동기 작업이라는 과정 속에 또 다른 과정을 종속시키는 방법**이다. 실패에 대한 처리도 까다로우며 테스트하기도 어렵다.

반응형 프로그래밍에서는 흐름속에 만들어진 데이터를 다른 흐름으로 전파한다. 데이터를 소비하는 흐름을 존재하며 그러한 흐름들은 위와 같은 데이터를 생성하는 스트림을 구독한다. 데이터 생성 스트림에서 데이터가 갱신되었을때 자신을 구독하고 있는 소비 스트림에게 데이터를 전달한다. **데이터를 중심으로 보았을때 스트림 → 스트림으로 순차적으로 표현되는 것**이다.

기존 콜백함수는 하나의 과정 속에 이후 과정이 종속되는 문제가 보인다. 하지만 반응형 프로그래밍의 경우, **과정이 분리되는 것뿐만 아니라 전파를 통한 제어의 역전**이 일어나는 것을 볼 수 있다. 또한, **데이터 변경에 대해 자동으로 처리함으로써 명시적으로 데이터 변경에 대한 처리를 구현하지 않아도 되어 코드의 간결성과 유지보수성이 향상**된다.

![과정속 과정 → (스트림 → 스트림)]()  

<br />  

### 반응형 프로그래밍 정리
1. 데이터의 흐름을 하나의 단위로 보는 것(스트림)
→ 예측불가한 과정과 그 결과로 생성되는 데이터를 하나로 
2. 변경사항(데이터 생성, 갱신)을 또 다른 스트림으로 전파하는 것
→ 생성되고 변경된 데이터를 해당 흐름을 구독하고 있는 흐름에게 전파하는 것
→ 여러가지 흐름을 결합시킬 수도 있음