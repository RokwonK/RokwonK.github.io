---
layout: default
parent: Archive
title: "[네트워크] IP 고갈문제(서브넷팅, NAT, DHCP)"
categories: CS
tags:
  - network
---  

IP는 총 32비트로 이루어진 주소체계다. 인터넷이 빠르게 발전함에따라 기존에 존재하는 IP 주소가 부족해지기 시작했다. 이에 여러가지 해결책들이 제시되었고 공식적으로 사용하고 있다.  

<br />  

## 서브넷
서브넷(Subnet)은 **네트워크를 작은 단위로 분할하는 기술**{: .font-highlight}이다. **대규모 네트워크 관리에 용이하며 IP 주소를 효율적으로 사용**할 수 있다.  
서브넷을 사용해서 네트워크 내부 호스트들을 그룹화하고 각 서브넷마다 IP주소 대역을 할당할 수 있다. 이렇게 네트워크를 분할하는 작업 자체를 서브넷팅이라고 부른다.  

<br />  

## CIDR
CIDR(Classless Inter Domain Routing)는 IP 주소의 네트워크ID와 호스트ID를 명시적으로 나누는 기술이다. CIDR을 이용하면 작은 크기의 서브넷도 구성할 수 있으며, IP 주소를 보다 효율적으로 사용할 수 있다.  

<br />  

## NAT
NAT(Network Address Translation)는 **사설 IP주소를 사용하는 네트워크에서 공인 IP주소를 가진 네트워크와 통신하기 위해 IP 주소를 변환하는 기술**{: .font-highlight}이다.  
사설 네트워크에서는 라우터를 통해 공공 네트워크와 연결된다. 이때 사설 네트워크 내부 장치들이 사용하는 사설IP는 인터넷에 직접 접근하지 못한다. 따라서 외부에 접근하기 위해서는 공공IP가 필요한데 이때 사설 네트워크와 연결된 라우터가 NAT 기술을 활용해 사설 IP를 본인의 공공 IP로 변환하여 소통한다.

**💡 공공IP와 사설IP**  
**공공IP는 인터넷에서 공개적으로 사용하는 IP주소**이다. 인터넷을 통틀어서 유일한 주소를 가지고 ISP에 의해서 할당된다. **사설IP는 사설네트워크에서 유일한 IP주소**이다. 즉, 다른 사설네트워크와 IP가 겹칠 수 있다. 사설IP는 사설네트워크에서만 유효한 IP이므로 인터넷에 직접 접근할 수 없어 NAT와 같은 기술을 이용해 인터넷에 접근한다. 사설 IP로 사용가능한 주소는 `10.0.0.0/8`, `172.16.0.0/12`, `192.168.0.0/16`이며 이 IP들은 공공IP로 사용할 수 없다.
{: .notice--info}


**💡 공공IP++ - 유동 IP와 고정 IP**  
유동 IP는 ISP에서 동적으로 할당하는 IP주소이며 인터넷에 연결될 때마다 변경된다. 사용 이후 다시 회수함으로써 IP고갈문제를 해결한다. 고정 IP는 ISP에서 고정적으로 할당하는 IP주소이다. 고정 IP의 경우 고정된 서비스를 제공해야하는 서버와 같은 곳에 많이 사용한다.
{: .notice}  

<br />  

## DHCP
DHCP(Dynamic Host Configuration Protocol)는 **네트워크에 연결된 컴퓨터나 기타 장치들에게 IP 주소 및 네트워크 설정정보를 자동으로 할당해주는 프로토콜**{: .font-highlight}이다. 이 프로토콜 덕분에 하나의 네트워크 내부에서 사설 IP 주소 충돌을 방지할 수 있다.(네트워크 주소관리의 편리성 제공)  

DHCP는 IP 주소 고갈문제와 직접적인 관련이 있지는 않다. 하지만 IP를 효율적으로 할당 및 관리하기 위한 기술이므로 IP 주소 고갈 문제를 해결하는데 도움이 된다고 할 수 있다.  

**💡 DHCP의 예**  
DHCP는 사설IP를 할당해주는 DHCP 서버와 할당받는 DHCP 클라이언트가 존재한다. DHCP 서버의 역할로 **라우터, 공유기, 핫스팟을 킨 핸드폰** 등이 될 수 있으며 클라이언트로는 이와 연결된 장치들이라고 볼 수 있다.  
{: .notice--info}



<br />  

## IPv6
128비트 주소체계를 사용하여, IPv4의 주소 고갈 문제를 해결하기 위한 기술이다. 16진수로 구성된 8개의 16비트 블록으로 구성된다. ex) `2001:0db8:85a3:0000:0000:8a2e:0370:7334`  
IPv4와 달리 IPv6는 호스트가 자동으로 주소를 할당받으며 보인 기능이 강화되었으며 멀티미디어 데이터 전송을 위한 향상된 기능을 제공한다.  

하지만 IPv4와 호환되지 않으므로 IPv6와 IPv4 호스트끼리 통신이 필요한 경우 터널링 기술을 사용해야한다.